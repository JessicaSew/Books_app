(this["webpackJsonpbest-books"]=this["webpackJsonpbest-books"]||[]).push([[0],{30:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(21),o=n.n(c),i=(n(30),n(20)),a=n(24),b=n(7),l=n(8),j=n(10),u=n(9),h=n(11),p=n(2),d=n(23),O=n(1),x=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)("article",{className:"bg-gray-100 py-5 px-10 rounded-lg sm:px-5",children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:this.props.book_image,alt:this.props.title,className:"block mx-auto w-1/2"}),Object(O.jsx)("br",{}),Object(O.jsx)("h3",{className:"font-bold my-2 text- 2x1",children:this.props.title}),Object(O.jsx)("p",{className:"mb-4",children:this.props.description}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-bold",children:" Author: "}),this.props.author]}),Object(O.jsxs)("ul",{className:"mb-4",children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{className:"font-bold",children:"Publisher: "}),this.props.publisher]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{className:"font-bold",children:"ISBN: "}),this.props.primary_isbn10]})]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("h4",{className:"font-bold text-xl",children:"Buy Now:"}),this.props.buy_links.map((function(e){var t=e.name,n=e.url;return Object(O.jsx)("div",{children:Object(O.jsxs)("a",{href:n,className:"flex items-center",target:"_blank",rel:"noopener noreferrer",children:[t," ",Object(O.jsx)(d.a,{className:"ml-1"})]})},t)}))]})]})},this.props.rank)}}]),n}(s.a.Component),v="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=".concat("UoRKKA7wnvKbrtHgW1XpAW2FbHHQhFb7"),f=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={books:[]},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(v).then((function(e){return e.json()})).then((function(t){return e.setState({books:t.results.books})}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{id:"header",className:"font-bold text-center text-4xl py-5 lg:text-6xl",children:"The Best-Seller Books"}),Object(O.jsx)("section",{id:"section",className:"grid grid-cols-1 gap-10 px-5 pb-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:this.state.books.map((function(e){var t=e.author,n=e.book_image,r=e.buy_links,s=e.description,c=e.rank,o=e.title,i=e.primary_isbn10,a=e.publisher;return Object(O.jsx)(x,{id:"BookContainer",author:t,book_image:n,title:o,description:s,rank:c,primary_isbn10:i,publisher:a,buy_links:r})}))})]})}}]),n}(s.a.Component),m={width:"100px",padding:"12px",margin:"0 6px 6px",background:"green",textDecoration:"none",color:"white"},k=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(h.c,{to:"/",exact:!0,style:m,activeStyle:{background:"darkgreen"},children:"Home"}),Object(O.jsx)(h.c,{to:"/book_reviews",exact:!0,style:m,activeStyle:{background:"darkgreen"},children:"Book Reviews"})]})}}]),n}(s.a.Component),w=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsx)("p",{id:"pTag",children:this.props.review.new_review})}}]),n}(s.a.Component),g=function(){return Object(O.jsxs)(h.b,{to:"/book_reviews/new",children:[Object(O.jsx)("br",{}),Object(O.jsx)("button",{id:"reviewBtn",children:"Write a Book Review"})]})};var y=function(){var e=this.props.book_reviews.map((function(e){return Object(O.jsx)(w,{review:e})}));return Object(O.jsxs)("div",{children:[e,Object(O.jsx)(g,{})]})},_=n(25),N=function(e){var t=Object(r.useState)(""),n=Object(_.a)(t,2),s=n[0],c=n[1],o=Object(p.f)();return Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),fetch("http://localhost:3000/book_reviews",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({new_review:s})}).then((function(e){return e.json()})).then((function(t){return e.addReview(t)})),t.target.reset(),o.push("/book_reviews")},children:[Object(O.jsx)("label",{children:"Review: "}),Object(O.jsx)("textarea",{type:"text",name:"new_review",onChange:function(e){c(e.target.value)}}),Object(O.jsx)("input",{type:"submit"})]})]})},S=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).addReview=function(t){e.setState({book_reviews:[].concat(Object(a.a)(e.state.book_reviews),[t])})},e.handleSubmit=function(t){t.preventDefault();var n=e.props.book.filter((function(e){return e.title.toLowerCase()===t.target.children[0].value.toLowerCase()}));e.setState(Object(i.a)(Object(i.a)({},e.state),{},{books:n})),console.log(e.state.searchTerm)},e.state={book_reviews:[],searchTerm:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state),fetch("http://localhost:3000/book_reviews/").then((function(e){return e.json()})).then((function(t){e.setState({book_reviews:t})}))}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{children:Object(O.jsx)(h.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(k,{}),Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{exact:!0,path:"/Books_app",component:f}),Object(O.jsx)(p.a,{exact:!0,path:"/book_reviews",render:function(){return Object(O.jsx)(y,{book_reviews:e.state.book_reviews})}}),Object(O.jsx)(p.a,{exact:!0,path:"/book_reviews/new",render:function(){return Object(O.jsx)(N,{addReview:e.addReview})}})]})]})})})}}]),n}(s.a.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),c(e),o(e)}))};o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),C()}},[[40,1,2]]]);
//# sourceMappingURL=main.676a4485.chunk.js.map